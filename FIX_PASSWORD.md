# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª—è PostgreSQL

## –ü—Ä–æ–±–ª–µ–º–∞
PostgreSQL —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –Ω–æ –ø–∞—Ä–æ–ª—å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω –∏–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ —Ç–µ–∫—É—â–∏–π)

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
/Library/PostgreSQL/18/bin/psql -h localhost -U postgres
```

2. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ), –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

3. –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å:
```sql
ALTER USER postgres PASSWORD 'postgres';
\q
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pgAdmin –∏–ª–∏ –¥—Ä—É–≥–æ–π GUI

1. –û—Ç–∫—Ä–æ–π—Ç–µ pgAdmin 4
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–æ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `/Library/PostgreSQL/18/data/pg_hba.conf`
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```
   host    all             all             127.0.0.1/32            scram-sha-256
   ```
3. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:
   ```
   host    all             all             127.0.0.1/32            trust
   ```
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å:
   ```bash
   /Library/PostgreSQL/18/bin/psql -h localhost -U postgres
   ALTER USER postgres PASSWORD 'postgres';
   \q
   ```
6. –í–µ—Ä–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `pg_hba.conf` –æ–±—Ä–∞—Ç–Ω–æ

## –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞—Ä–æ–ª—è

1. –û–±–Ω–æ–≤–∏—Ç–µ `apps/api/.env.local`:
   ```env
   DATABASE_URL=postgresql://postgres:postgres@localhost:5432/sabay_owner_db
   ```
   (–ó–∞–º–µ–Ω–∏—Ç–µ `postgres` –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å)

2. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
   ```bash
   PGPASSWORD=postgres /Library/PostgreSQL/18/bin/createdb -h localhost -U postgres sabay_owner_db
   ```

3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   ```bash
   cd apps/api
   pnpm init-db
   ```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API:
   ```bash
   pnpm dev
   ```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
PGPASSWORD=postgres /Library/PostgreSQL/18/bin/psql -h localhost -U postgres -d sabay_owner_db -c "SELECT 1;"
```
